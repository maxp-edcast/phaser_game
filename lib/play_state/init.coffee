module.exports = ->

  # -----------------------------------------------------------------------------
  # Load state, util, and assets
  # -----------------------------------------------------------------------------

  Object.assign this,
    require("../state").load(this),
    require("../util"),
    Assets: require("../assets")

  # -----------------------------------------------------------------------------
  # Use phaser physics
  # -----------------------------------------------------------------------------

  @physics.startSystem Phaser.Physics.P2JS
  @game.physics.p2.setImpactEvents(true);

  # -----------------------------------------------------------------------------
  # Set gravity?
  # -----------------------------------------------------------------------------

  # Object.assign @game.physics.p2.gravity, @gravity

  # -----------------------------------------------------------------------------
  # Debug mode? (Shows hitbox outlines)
  # -----------------------------------------------------------------------------

  window.debugMode = true

  # -----------------------------------------------------------------------------
  # Useful for debugging
  # -----------------------------------------------------------------------------

  window.App = this
